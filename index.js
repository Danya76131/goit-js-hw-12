import{S as b,i as c}from"./assets/vendor-BrddEoy-.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();const S="37268355-594f825c6dd88f3f995ae87db",q="https://pixabay.com/api/",v=15;async function u(t,n){const r=`${q}?key=${S}&q=${encodeURIComponent(t)}&image_type=photo&orientation=horizontal&safesearch=true&page=${n}&per_page=${v}`;try{const a=await fetch(r);if(!a.ok)throw new Error("Network error");return await a.json()}catch(a){throw console.error("Fetch error:",a),a}}const f=document.querySelector(".gallery"),m=document.querySelector(".load-more"),h=document.querySelector(".loader"),E=new b(".gallery a");function y(t){const n=t.map(r=>`
    <a href="${r.largeImageURL}" class="gallery-item">
      <img src="${r.webformatURL}" alt="${r.tags}" loading="lazy" />
    </a>
  `).join("");f.insertAdjacentHTML("beforeend",n),E.refresh()}function $(){f.innerHTML=""}function g(){h.classList.remove("hidden")}function p(){h.classList.add("hidden")}function L(){m.classList.remove("hidden")}function w(){m.classList.add("hidden")}const B=document.querySelector("form"),P=document.querySelector(".load-more");let l="",s=1,d=0;B.addEventListener("submit",async t=>{t.preventDefault();const n=t.target.search.value.trim();if(!n){c.warning({message:"Enter a search term!"});return}l=n,s=1,$(),w(),g();try{const r=await u(l,s);if(d=r.totalHits,r.hits.length===0){c.info({message:"No images found. Try another query."});return}y(r.hits),d>s*15&&L()}catch{c.error({message:"Something went wrong!"})}finally{p()}});P.addEventListener("click",async()=>{s+=1,g(),w();try{const t=await u(l,s);y(t.hits),M(),s*15>=d?c.info({message:"We're sorry, but you've reached the end of search results."}):L()}catch{c.error({message:"Failed to load more images."})}finally{p()}});function M(){const{height:t}=document.querySelector(".gallery a").getBoundingClientRect();window.scrollBy({top:t*2,behavior:"smooth"})}
//# sourceMappingURL=index.js.map
